<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promise</title>
</head>

<body>
    <input type="text" class="username" placeholder="username" required>
    <input type="email" class="email" placeholder="email" required>
    <button>submit</button>
    <script>
        let button = document.querySelector("button");

        button.addEventListener('click', () => {
            let username = document.querySelector(".username").value;
            let email = document.querySelector(".email").value;

            function func1() {  //this is an asynchronous function bcoz when we use setTimeOut it is an asynchronous function
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("username :", username);
                        // resolve("success");
                        reject("Username Error");
                    }, 1000);
                });
            }

            function func2() {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("email :", email);
                        // resolve("success");
                        reject("email Error");
                    }, 1000);
                });
            }

            // func1().then((res) => {
            //     console.log(res);
            // });

            // func2().then((res) => {
            //     console.log(res);
            // });

            // func1().then((res) => { //once we get the username then only the email will be printed
            //     console.log(res);
            //     func2().then((res) => {
            //         console.log(res);
            //     });
            // });

            func1().catch((err) => {
                console.log("hloo", err);
                func2().catch((err) => {
                    console.log("hi", err);
                });
            });
        });
    </script>
</body>

</html>